# Variables de entorno para testing
# TecnoBot SAAS

# Configuración básica
NODE_ENV=test
PORT=3001
LOG_LEVEL=error

# URLs importantes
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001
API_BASE_URL=http://localhost:3001/api

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Supabase (usar instancia de test)
SUPABASE_URL=https://test-project.supabase.co
SUPABASE_ANON_KEY=test-anon-key-for-testing
SUPABASE_SERVICE_ROLE_KEY=test-service-role-key-for-testing

# Connection pooling (reducido para tests)
SUPABASE_POOL_MAX=5
SUPABASE_POOL_MIN=1
SUPABASE_POOL_IDLE_TIMEOUT=10000

# JWT (clave específica para tests)
JWT_SECRET=test-jwt-secret-super-secure-for-testing-only-never-use-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Bcrypt (rounds reducidos para tests más rápidos)
BCRYPT_ROUNDS=4

# Session management
SESSION_TIMEOUT=3600000
SESSION_CLEANUP_INTERVAL=300000

# WhatsApp Baileys (configuración de test)
MAX_WHATSAPP_SESSIONS=5
WHATSAPP_SESSION_TIMEOUT=300000
QR_TIMEOUT=30000
WHATSAPP_RETRY_DELAY=1000
WHATSAPP_MAX_RETRIES=2

# OpenAI (usar clave de test o mock)
OPENAI_API_KEY=test-openai-key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT=10000

# Google APIs (usar clave de test)
GOOGLE_API_KEY=test-google-api-key
GOOGLE_TTS_TIMEOUT=5000

# Rate Limiting (más permisivo para tests)
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_FAILED_REQUESTS=true
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Logging (mínimo para tests)
LOG_LEVEL=error
LOG_FILE_ENABLED=false
LOG_CONSOLE_ENABLED=false
LOG_MAX_FILES=1
LOG_MAX_SIZE=1m

# Caching (configuración mínima)
CACHE_TTL=300
CACHE_CHECK_PERIOD=60
CACHE_MAX_KEYS=100

# File Storage (directorio temporal)
UPLOAD_DIR=./temp/test-uploads
MAX_FILE_SIZE=1048576
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# Notifications (deshabilitado para tests)
NOTIFICATIONS_ENABLED=false
EMAIL_ENABLED=false
SMS_ENABLED=false
PUSH_ENABLED=false

# Analytics (deshabilitado para tests)
ANALYTICS_ENABLED=false
METRICS_ENABLED=false

# Development
DEBUG_MODE=false
VERBOSE_LOGGING=false
API_DOCS_ENABLED=false

# Multi-tenancy
DEFAULT_PLAN=free
TENANT_ISOLATION_ENABLED=true
AUTO_TENANT_CREATION=true

# Plan Limits (reducidos para tests)
# Free Plan
FREE_MAX_CHATBOTS=1
FREE_MAX_MONTHLY_MESSAGES=100
FREE_MAX_WHATSAPP_SESSIONS=1
FREE_MAX_TEAM_MEMBERS=1

# Basic Plan
BASIC_MAX_CHATBOTS=2
BASIC_MAX_MONTHLY_MESSAGES=1000
BASIC_MAX_WHATSAPP_SESSIONS=2
BASIC_MAX_TEAM_MEMBERS=2

# Pro Plan
PRO_MAX_CHATBOTS=5
PRO_MAX_MONTHLY_MESSAGES=5000
PRO_MAX_WHATSAPP_SESSIONS=5
PRO_MAX_TEAM_MEMBERS=5

# Enterprise Plan
ENTERPRISE_MAX_CHATBOTS=999
ENTERPRISE_MAX_MONTHLY_MESSAGES=999999
ENTERPRISE_MAX_WHATSAPP_SESSIONS=50
ENTERPRISE_MAX_TEAM_MEMBERS=999

# Memory and Performance (reducido para tests)
MEMORY_LIMIT=256
MAX_CHAT_HISTORY=10
CLEANUP_INTERVAL=60000
GARBAGE_COLLECTION_INTERVAL=30000

# Testing específico
TEST_TIMEOUT=30000
TEST_DB_CLEANUP=true
TEST_MOCK_EXTERNAL_APIS=true
TEST_SKIP_AUTH=false